<!-- rule_12.5.html
copyright: &copy; 2013 Programming Research
   module: M2CM-3.2-QAC-8.1.2
  purpose: MISRA-C:2004 Rules explanation file
  history: auto-created on 30-Jul-13
-->
<!--
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
-->
<HTML><HEAD><TITLE>QA C Help - Rule 12.5</TITLE>
         <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
         <meta http-equiv="Content-Style-Type" content="text/css">
         <link href="css/message.css" rel="stylesheet" type="text/css">
</HEAD><BODY>
<table class="heading">
<tr class="heading">
<td class="heading" rowspan=4 width="85px"><img src="QAC.png"></td>
<td class="heading" align="right" width="11px">
<a href="rule_12.4.html"><img src="left.png" alt="[previous]"></a>
</td>
<td class="heading_number"><span style="white-space:nowrap">MISRA-C:2004&nbsp;&nbsp;Rule&nbsp;&nbsp;12.5:&nbsp;&nbsp;(Required)</span></td>
<td class="heading" align="left" width="11px">
<a href="rule_12.6.html"><img src="right.png" alt="[next]"></a>
</td>
<td class="heading"/>
<td class="heading_message">The operands of a logical && or || shall be primary-expressions.</td>
<tr class="heading">
<td class="heading" height="1px" colspan=7 background="prqa_sep.png"/><td class="heading" width="76px"><img src="prqa_right.png"/></td></tr>
<tr class="heading">
<td colspan=4  class="heading_category"></td>
<td width="70%" class="heading_verbose"/>
<td class="heading_message"/>
</tr>
</table>
'Primary expressions' are defined in ISO/IEC 9899:1990 [2], section 6.3.1.  Essentially they are either a single identifier, or a constant, or a parenthesised expression.  The effect of this rule is to require that if an operand is other than a single identifier or constant then it must be parenthesised.  Parentheses are important in this situation both for readability of code and for ensuring that the behaviour is as the programmer intended.  Where an expression consists of either a sequence of only logical && or a sequence of only logical ||, extra parentheses are not required.
<P>
For example write:
<p><pre class="example">
<code class="keyword">if</code> <code class="operator">&#x28;</code> <code class="operator">&#x28;</code> x <code class="operator">&#x3D;</code><code class="operator">&#x3D;</code> <code class="number">0</code> <code class="operator">&#x29;</code> <code class="operator">&amp;</code><code class="operator">&amp;</code> ishigh <code class="operator">&#x29;</code><code class="comment">   &#x2F;&#x2A; make x &#x3D;&#x3D; 0 primary                  &#x2A;&#x2F;</code>
<code class="keyword">if</code> <code class="operator">&#x28;</code> x <code class="operator">&#x7C;</code><code class="operator">&#x7C;</code> y <code class="operator">&#x7C;</code><code class="operator">&#x7C;</code> z <code class="operator">&#x29;</code><code class="comment">            &#x2F;&#x2A; exception allowed, if x, y and z are
                                 Boolean                              &#x2A;&#x2F;</code>
<code class="keyword">if</code> <code class="operator">&#x28;</code> x <code class="operator">&#x7C;</code><code class="operator">&#x7C;</code> <code class="operator">&#x28;</code> y <code class="operator">&amp;</code><code class="operator">&amp;</code> z <code class="operator">&#x29;</code> <code class="operator">&#x29;</code><code class="comment">        &#x2F;&#x2A; make y &amp;&amp; z primary                  &#x2A;&#x2F;</code>
<code class="keyword">if</code> <code class="operator">&#x28;</code> x <code class="operator">&amp;</code><code class="operator">&amp;</code> <code class="operator">&#x28;</code> <code class="operator">&#x21;</code>y <code class="operator">&#x29;</code> <code class="operator">&#x29;</code><code class="comment">            &#x2F;&#x2A; make &#x21;y primary                      &#x2A;&#x2F;</code>
<code class="keyword">if</code> <code class="operator">&#x28;</code> <code class="operator">&#x28;</code> is_odd <code class="operator">&#x28;</code> y <code class="operator">&#x29;</code> <code class="operator">&#x29;</code> <code class="operator">&amp;</code><code class="operator">&amp;</code> x <code class="operator">&#x29;</code><code class="comment">  &#x2F;&#x2A; make call primary                    &#x2A;&#x2F;</code>

</pre>
<P>
Where an expression consists of either a sequence of only logical && or a sequence of only logical ||, extra parentheses are not required.
<p><pre class="example">
<code class="keyword">if</code> <code class="operator">&#x28;</code> <code class="operator">&#x28;</code> x <code class="operator">&gt;</code> c1 <code class="operator">&#x29;</code> <code class="operator">&amp;</code><code class="operator">&amp;</code> <code class="operator">&#x28;</code> y <code class="operator">&gt;</code> c2 <code class="operator">&#x29;</code> <code class="operator">&amp;</code><code class="operator">&amp;</code> <code class="operator">&#x28;</code> z <code class="operator">&gt;</code> c3 <code class="operator">&#x29;</code> <code class="operator">&#x29;</code><code class="comment">      &#x2F;&#x2A; Compliant       &#x2A;&#x2F;</code>
<code class="keyword">if</code> <code class="operator">&#x28;</code> <code class="operator">&#x28;</code> x <code class="operator">&gt;</code> c1 <code class="operator">&#x29;</code> <code class="operator">&amp;</code><code class="operator">&amp;</code> <code class="operator">&#x28;</code> y <code class="operator">&gt;</code> c2 <code class="operator">&#x29;</code> <code class="operator">&#x7C;</code><code class="operator">&#x7C;</code> <code class="operator">&#x28;</code> z <code class="operator">&gt;</code> c3 <code class="operator">&#x29;</code> <code class="operator">&#x29;</code><code class="comment">      &#x2F;&#x2A; not compliant   &#x2A;&#x2F;</code>
<code class="keyword">if</code> <code class="operator">&#x28;</code> <code class="operator">&#x28;</code> x <code class="operator">&gt;</code> c1 <code class="operator">&#x29;</code> <code class="operator">&amp;</code><code class="operator">&amp;</code> <code class="operator">&#x28;</code> <code class="operator">&#x28;</code> y <code class="operator">&gt;</code> c2 <code class="operator">&#x29;</code> <code class="operator">&#x7C;</code><code class="operator">&#x7C;</code> <code class="operator">&#x28;</code> z <code class="operator">&gt;</code> c3 <code class="operator">&#x29;</code> <code class="operator">&#x29;</code> <code class="operator">&#x29;</code><code class="comment">  &#x2F;&#x2A; Compliant
                                                        extra &#x28;&#x29; used &#x2A;&#x2F;</code>

</pre>
<P>
Note that this rule is a special case of Guideline <!--RNAME[12.1]-->.<P><HR><P>
<B>QAC messages that encompass this guideline:</B>
<P>
<TABLE WIDTH="90%" BORDER=1 CELLSPACING=0 >
<TR>
<TD VALIGN=TOP WIDTH="10%" ALIGN=CENTER> <A HREF="3398.html">3398</A></TD>
<TD VALIGN=TOP WIDTH="90%"> Extra parentheses recommended. A function call, array subscript, or member operation is the operand of a logical && or ||. </TD>
</TR>
<TR>
<TD VALIGN=TOP WIDTH="10%" ALIGN=CENTER> <A HREF="3399.html">3399</A></TD>
<TD VALIGN=TOP WIDTH="90%"> Extra parentheses recommended. A unary operation is the operand of a logical && or ||. </TD>
</TR>
<TR>
<TD VALIGN=TOP WIDTH="10%" ALIGN=CENTER> <A HREF="3400.html">3400</A></TD>
<TD VALIGN=TOP WIDTH="90%"> Extra parentheses recommended. A binary operation is the operand of a logical && or ||. </TD>
</TR>
</TABLE>
<P><HR>
<TABLE WIDTH="100%">
<TR>
<TD WIDTH="355px">
<IMG SRC="prqa_left.png"/>
</TD>
<TD COLSPAN=2 BACKGROUND="prqa_middle.png"/>
</TR>
</TABLE>
<P>
<BR><I><A HREF="misra.html">(c)  The Motor Industry Research Association, 2004</A></I>
<TABLE WIDTH="100%">
  <TR VALIGN="MIDDLE">
    <TD WIDTH="30%">
      <I><B>QA C Source Code Analyser 8.1.2</B></I>
      <BR><I><B>MISRA-C:2004 Compliance Module 3.2</B></I>
      <BR><I>&copy; 2013 Programming Research</I>
      <BR><I>
        www.programmingresearch.com
      </I>
    </TD>
    <TD ALIGN="CENTER" WIDTH="60%">
      <A HREF="PersonIndex.html">Personality Groups</A> | 
      <A HREF="Glossary.html">Glossary</A> | 
      <A HREF="MessageIndex.html">Message Index</A>
      | <A HREF="MISRA-C_2004Index.html">MISRA-C:2004 Rule Index</A>
    </TD>
    <TD ALIGN="RIGHT" WIDTH="10%">
      <A HREF="messages.htm">Contents</A>
    </TD>
  </TR>
</TABLE>
</BODY></HTML>
