<!-- rule_8.11.html
copyright: &copy; 2013 Programming Research
   module: M2CM-3.2-QAC-8.1.2
  purpose: MISRA-C:2004 Rules explanation file
  history: auto-created on 30-Jul-13
-->
<!--
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
-->
<HTML><HEAD><TITLE>QA C Help - Rule 8.11</TITLE>
         <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
         <meta http-equiv="Content-Style-Type" content="text/css">
         <link href="css/message.css" rel="stylesheet" type="text/css">
</HEAD><BODY>
<table class="heading">
<tr class="heading">
<td class="heading" rowspan=4 width="85px"><img src="QAC.png"></td>
<td class="heading" align="right" width="11px">
<a href="rule_8.10.html"><img src="left.png" alt="[previous]"></a>
</td>
<td class="heading_number"><span style="white-space:nowrap">MISRA-C:2004&nbsp;&nbsp;Rule&nbsp;&nbsp;8.11:&nbsp;&nbsp;(Required)</span></td>
<td class="heading" align="left" width="11px">
<a href="rule_8.12.html"><img src="right.png" alt="[next]"></a>
</td>
<td class="heading"/>
<td class="heading_message">The static storage class specifier shall be used in definitions and declarations of objects and functions that have internal linkage.</td>
<tr class="heading">
<td class="heading" height="1px" colspan=7 background="prqa_sep.png"/><td class="heading" width="76px"><img src="prqa_right.png"/></td></tr>
<tr class="heading">
<td colspan=4  class="heading_category"></td>
<td width="70%" class="heading_verbose"/>
<td class="heading_message"/>
</tr>
</table>
The static and extern storage class specifiers can be a source of confusion.  It is good practice to apply the static keyword consistently to all declarations of objects and functions with internal linkage.<P>
<P><FONT SIZE=+1><B>Example Code:</B></FONT>
<PRE>
<code>
<pre class="example"><code class="comment">&#x2F;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;
Note that the rules by which linkage are defined were modified in
Technical Corrigendum 1 of the ISO C standard,

1. If the declaration of a file scope identifier for an object contains the
   storage class specifier static, the identifier has internal linkage.

2. If the declaration of an identifier for an object or function contains
   the storage&#x2D;class specifier extern, if a prior declaration of that
   identifier is visible and specifies internal or external linkage, the
   linkage of the identifier at the latter declaration becomes the same
   as the linkage specified at the prior declaration.

3. If the declaration of an identifier for an object or function contains
   the storage&#x2D;class specifier extern and there is no visible prior declaration
   of the identifier, the identifier has external linkage.

4  If the declaration of an identifier for a function has no storage class
   specifier, its linkage is determined exactly as if it were declared with
   the storage class specifier extern.

5. If the declaration of an identifier for an object has file scope and no
   storage&#x2D;class specifier, its linkage is external.

&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2F;</code>

<code class="comment">&#x2F;&#x2A; PRQA S 2021,3205,3207,3219,3222,3447,3408 &#x2B;&#x2B; &#x2A;&#x2F;</code>

<code class="preprocessor">#include</code><code class="string"> "misra.h"</code>
<code class="preprocessor">#include</code><code class="string"> "m2cmex.h"</code>

<code class="keyword">static</code> S16 obj_0811a;<code class="comment">                  &#x2F;&#x2A; Internal linkage &#x28;1&#x29; &#x2A;&#x2F;</code>
<code class="keyword">extern</code> S16 obj_0811a;<code class="comment">                  &#x2F;&#x2A; Internal linkage &#x28;2&#x29; &#x2D; MISRA Violation &#x2A;&#x2F;</code>

<code class="keyword">extern</code> S16 obj_0811b;<code class="comment">                  &#x2F;&#x2A; External linkage &#x28;3&#x29; &#x2A;&#x2F;</code>
       S16 obj_0811b;<code class="comment">                  &#x2F;&#x2A; External linkage &#x28;5&#x29; &#x2A;&#x2F;</code>

       S16 obj_0811c;<code class="comment">                  &#x2F;&#x2A; External linkage &#x28;5&#x29; &#x2A;&#x2F;</code>
<code class="keyword">extern</code> S16 obj_0811c;<code class="comment">                  &#x2F;&#x2A; External linkage &#x28;2&#x29; &#x2A;&#x2F;</code>

<code class="keyword">static</code> S16 obj_0811d;<code class="comment">                  &#x2F;&#x2A; Internal linkage &#x28;1&#x29; &#x2A;&#x2F;</code>
       S16 obj_0811d;<code class="comment">                  &#x2F;&#x2A; External linkage &#x28;5&#x29; &#x2D; MISRA Violation &#x2D; Rule 1.2 &#x2A;&#x2F;</code>

       S16 obj_0811e;<code class="comment">                  &#x2F;&#x2A; External linkage &#x28;5&#x29; &#x2A;&#x2F;</code>
<code class="keyword">static</code> S16 obj_0811e;<code class="comment">                  &#x2F;&#x2A; Internal linkage &#x28;1&#x29; &#x2D; MISRA Violation &#x2D; Rule 1.2 &#x2A;&#x2F;</code>

<code class="keyword">extern</code> S16 obj_0811f;<code class="comment">                  &#x2F;&#x2A; External linkage &#x28;3&#x29; &#x2A;&#x2F;</code>
<code class="keyword">static</code> S16 obj_0811f;<code class="comment">                  &#x2F;&#x2A; Internal linkage &#x28;1&#x29; &#x2D; MISRA Violation &#x2D; Rule 1.2 &#x2A;&#x2F;</code>



<code class="keyword">extern</code> S16 test_0811<code class="operator">&#x28;</code> <code class="type">void</code> <code class="operator">&#x29;</code>;<code class="comment">          &#x2F;&#x2A; External linkage &#x28;3&#x29; &#x2A;&#x2F;</code>

<code class="keyword">static</code> S16 test_0811<code class="operator">&#x28;</code> <code class="type">void</code> <code class="operator">&#x29;</code><code class="comment">           &#x2F;&#x2A; Internal linkage &#x28;1&#x29; &#x2A; MISRA Violation &#x2D; Rule 1.2 &#x2A;&#x2F;</code>
<code class="operator">&#x7B;</code>
    <code class="keyword">extern</code> S16 a0811;<code class="comment">                  &#x2F;&#x2A; External linkage &#x28;3&#x29; &#x2A;&#x2F;</code>
    <code class="keyword">static</code> S16 a0811 <code class="operator">&#x3D;</code> <code class="number">0</code>;<code class="comment">              &#x2F;&#x2A; Internal linkage &#x28;1&#x29; &#x2A; MISRA Violation &#x2D; Rule 1.1 &#x2A;&#x2F;</code>

    <code class="keyword">extern</code> S16 obj_0811a;<code class="comment">              &#x2F;&#x2A; Internal linkage &#x28;2&#x29; &#x2A;&#x2F;</code>

    <code class="keyword">extern</code> S16 obj_0811b;<code class="comment">              &#x2F;&#x2A; External linkage &#x28;2&#x29; &#x2A;&#x2F;</code>

    <code class="keyword">return</code> <code class="number">0</code>;
<code class="operator">&#x7D;</code>

</pre>
</code>
</PRE>
<P><HR><P>
<B>QAC messages that encompass this guideline:</B>
<P>
<TABLE WIDTH="90%" BORDER=1 CELLSPACING=0 >
<TR>
<TD VALIGN=TOP WIDTH="10%" ALIGN=CENTER> <A HREF="3224.html">3224</A></TD>
<TD VALIGN=TOP WIDTH="90%"> This identifier has previously been declared with internal linkage but is not declared here with the static storage class specifier. </TD>
</TR>
</TABLE>
<P><HR>
<TABLE WIDTH="100%">
<TR>
<TD WIDTH="355px">
<IMG SRC="prqa_left.png"/>
</TD>
<TD COLSPAN=2 BACKGROUND="prqa_middle.png"/>
</TR>
</TABLE>
<P>
<BR><I><A HREF="misra.html">(c)  The Motor Industry Research Association, 2004</A></I>
<TABLE WIDTH="100%">
  <TR VALIGN="MIDDLE">
    <TD WIDTH="30%">
      <I><B>QA C Source Code Analyser 8.1.2</B></I>
      <BR><I><B>MISRA-C:2004 Compliance Module 3.2</B></I>
      <BR><I>&copy; 2013 Programming Research</I>
      <BR><I>
        www.programmingresearch.com
      </I>
    </TD>
    <TD ALIGN="CENTER" WIDTH="60%">
      <A HREF="PersonIndex.html">Personality Groups</A> | 
      <A HREF="Glossary.html">Glossary</A> | 
      <A HREF="MessageIndex.html">Message Index</A>
      | <A HREF="MISRA-C_2004Index.html">MISRA-C:2004 Rule Index</A>
    </TD>
    <TD ALIGN="RIGHT" WIDTH="10%">
      <A HREF="messages.htm">Contents</A>
    </TD>
  </TR>
</TABLE>
</BODY></HTML>
