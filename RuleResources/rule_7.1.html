<!-- rule_7.1.html
copyright: &copy; 2013 Programming Research
   module: M2CM-3.2-QAC-8.1.2
  purpose: MISRA-C:2004 Rules explanation file
  history: auto-created on 30-Jul-13
-->
<!--
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
-->
<HTML><HEAD><TITLE>QA C Help - Rule 7.1</TITLE>
         <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
         <meta http-equiv="Content-Style-Type" content="text/css">
         <link href="css/message.css" rel="stylesheet" type="text/css">
</HEAD><BODY>
<table class="heading">
<tr class="heading">
<td class="heading" rowspan=4 width="85px"><img src="QAC.png"></td>
<td class="heading" align="right" width="11px">
<a href="rule_6.5.html"><img src="left.png" alt="[previous]"></a>
</td>
<td class="heading_number"><span style="white-space:nowrap">MISRA-C:2004&nbsp;&nbsp;Rule&nbsp;&nbsp;7.1:&nbsp;&nbsp;(Required)</span></td>
<td class="heading" align="left" width="11px">
<a href="rule_8.1.html"><img src="right.png" alt="[next]"></a>
</td>
<td class="heading"/>
<td class="heading_message">Octal constants (other than zero) and octal escape sequences shall not be used.</td>
<tr class="heading">
<td class="heading" height="1px" colspan=7 background="prqa_sep.png"/><td class="heading" width="76px"><img src="prqa_right.png"/></td></tr>
<tr class="heading">
<td colspan=4  class="heading_category"></td>
<td width="70%" class="heading_verbose"/>
<td class="heading_message"/>
</tr>
</table>
Any integer constant beginning with a '0' (zero) is treated as octal.  So there is a danger, for example, with writing fixed length constants.  For example, the following array initialisation for 3-digit bus messages would not do as expected (052 is octal, i.e. 42 decimal):
<p><pre class="example">
code[<code class="number">1</code>] <code class="operator">&#x3D;</code> <code class="number">109</code>;<code class="comment">      &#x2F;&#x2A; equivalent to decimal 109 &#x2A;&#x2F;</code>
code[<code class="number">2</code>] <code class="operator">&#x3D;</code> <code class="number">100</code>;<code class="comment">      &#x2F;&#x2A; equivalent to decimal 100 &#x2A;&#x2F;</code>
code[<code class="number">3</code>] <code class="operator">&#x3D;</code> <code class="number">052</code>;<code class="comment">      &#x2F;&#x2A; equivalent to decimal 42 &#x2A;&#x2F;</code>
code[<code class="number">4</code>] <code class="operator">&#x3D;</code> <code class="number">071</code>;<code class="comment">      &#x2F;&#x2A; equivalent to decimal 57 &#x2A;&#x2F;</code>

</pre>
<P>
Octal escape sequences can be problematic because the inadvertent introduction of a decimal digit ends the octal escape and introduces another character.  The value of the first expression in the following example is implementation-defined because the character constant consists of two characters, '\10' and '9'.  The second character constant expression below contains the single character '\100'.  Its value will be implementation-defined if character 64 is not represented in the basic execution character set.
<p><pre class="example">
code[<code class="number">5</code>] <code class="operator">&#x3D;</code><code class="string"> '\109'</code>;<code class="comment">   &#x2F;&#x2A; implementation&#x2D;defined, two character constant &#x2A;&#x2F;</code>
code[<code class="number">6</code>] <code class="operator">&#x3D;</code><code class="string"> '\100'</code>;<code class="comment">   &#x2F;&#x2A; set to 64, or implementation&#x2D;defined           &#x2A;&#x2F;</code>

</pre>
<P>
It is better not to use octal constants or escape sequences at all, and to statically check for any occurrences.  The integer constant zero (written as a single numeric digit), is strictly speaking an octal constant, but is a permitted exception to this rule. Additionally "\0" is the only permitted octal escape sequence.<P><HR><P>
<B>QAC messages that encompass this guideline:</B>
<P>
<TABLE WIDTH="90%" BORDER=1 CELLSPACING=0 >
<TR>
<TD VALIGN=TOP WIDTH="10%" ALIGN=CENTER> <A HREF="0336.html">0336</A></TD>
<TD VALIGN=TOP WIDTH="90%"> Macro defined as an octal constant. </TD>
</TR>
<TR>
<TD VALIGN=TOP WIDTH="10%" ALIGN=CENTER> <A HREF="0339.html">0339</A></TD>
<TD VALIGN=TOP WIDTH="90%"> Octal constant used. </TD>
</TR>
<TR>
<TD VALIGN=TOP WIDTH="10%" ALIGN=CENTER> <A HREF="3628.html">3628</A></TD>
<TD VALIGN=TOP WIDTH="90%"> Octal escape sequences used in a character constant or string literal. </TD>
</TR>
</TABLE>
<P><HR>
<TABLE WIDTH="100%">
<TR>
<TD WIDTH="355px">
<IMG SRC="prqa_left.png"/>
</TD>
<TD COLSPAN=2 BACKGROUND="prqa_middle.png"/>
</TR>
</TABLE>
<P>
<BR><I><A HREF="misra.html">(c)  The Motor Industry Research Association, 2004</A></I>
<TABLE WIDTH="100%">
  <TR VALIGN="MIDDLE">
    <TD WIDTH="30%">
      <I><B>QA C Source Code Analyser 8.1.2</B></I>
      <BR><I><B>MISRA-C:2004 Compliance Module 3.2</B></I>
      <BR><I>&copy; 2013 Programming Research</I>
      <BR><I>
        www.programmingresearch.com
      </I>
    </TD>
    <TD ALIGN="CENTER" WIDTH="60%">
      <A HREF="PersonIndex.html">Personality Groups</A> | 
      <A HREF="Glossary.html">Glossary</A> | 
      <A HREF="MessageIndex.html">Message Index</A>
      | <A HREF="MISRA-C_2004Index.html">MISRA-C:2004 Rule Index</A>
    </TD>
    <TD ALIGN="RIGHT" WIDTH="10%">
      <A HREF="messages.htm">Contents</A>
    </TD>
  </TR>
</TABLE>
</BODY></HTML>
