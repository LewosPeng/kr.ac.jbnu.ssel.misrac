<!-- rule_5.4.html
copyright: &copy; 2013 Programming Research
   module: M2CM-3.2-QAC-8.1.2
  purpose: MISRA-C:2004 Rules explanation file
  history: auto-created on 30-Jul-13
-->
<!--
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
-->
<HTML><HEAD><TITLE>QA C Help - Rule 5.4</TITLE>
         <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
         <meta http-equiv="Content-Style-Type" content="text/css">
         <link href="css/message.css" rel="stylesheet" type="text/css">
</HEAD><BODY>
<table class="heading">
<tr class="heading">
<td class="heading" rowspan=4 width="85px"><img src="QAC.png"></td>
<td class="heading" align="right" width="11px">
<a href="rule_5.3.html"><img src="left.png" alt="[previous]"></a>
</td>
<td class="heading_number"><span style="white-space:nowrap">MISRA-C:2004&nbsp;&nbsp;Rule&nbsp;&nbsp;5.4:&nbsp;&nbsp;(Required)</span></td>
<td class="heading" align="left" width="11px">
<a href="rule_5.5.html"><img src="right.png" alt="[next]"></a>
</td>
<td class="heading"/>
<td class="heading_message">A tag name shall be a unique identifier.</td>
<tr class="heading">
<td class="heading" height="1px" colspan=7 background="prqa_sep.png"/><td class="heading" width="76px"><img src="prqa_right.png"/></td></tr>
<tr class="heading">
<td colspan=4  class="heading_category"></td>
<td width="70%" class="heading_verbose"/>
<td class="heading_message"/>
</tr>
</table>
No tag name shall be reused either to define a different tag or for any other purpose within the program.  ISO/IEC 9899:1990 [2] does not define the behaviour when an aggregate declaration uses a tag in different forms of type specifier (struct or union).  Either all uses of the tag should be in structure type specifiers, or all uses should be in union type specifiers, For example:
<p><pre class="example">
<code class="keyword">struct</code> stag <code class="operator">&#x7B;</code> uint16_t a; uint16_t b; <code class="operator">&#x7D;</code>;

<code class="keyword">struct</code> stag a1 <code class="operator">&#x3D;</code> <code class="operator">&#x7B;</code> <code class="number">0</code>, <code class="number">0</code> <code class="operator">&#x7D;</code>;<code class="comment">     &#x2F;&#x2A; Compliant &#x2D; compatible with above   &#x2A;&#x2F;</code>
<code class="keyword">union</code> stag  a2 <code class="operator">&#x3D;</code> <code class="operator">&#x7B;</code> <code class="number">0</code>, <code class="number">0</code> <code class="operator">&#x7D;</code>;<code class="comment">     &#x2F;&#x2A; Not compliant &#x2D; not compatible with
                                  previous declarations               &#x2A;&#x2F;</code>

<code class="type">void</code> foo<code class="operator">&#x28;</code> <code class="type">void</code> <code class="operator">&#x29;</code>
<code class="operator">&#x7B;</code>
    <code class="keyword">struct</code> stag <code class="operator">&#x7B;</code> uint16_t a; <code class="operator">&#x7D;</code>;<code class="comment"> &#x2F;&#x2A; Not compliant &#x2D; tag stag redefined  &#x2A;&#x2F;</code>
<code class="operator">&#x7D;</code>

</pre>
<P>
The same tag definition shall not be duplicated anywhere in the source code files even if the definitions are identical. Where the tag definition is made in a header file, and that header file is included in multiple source files, this rule is not violated.<P><HR><P>
<B>QAC messages that encompass this guideline:</B>
<P>
<TABLE WIDTH="90%" BORDER=1 CELLSPACING=0 >
<TR>
<TD VALIGN=TOP WIDTH="10%" ALIGN=CENTER> <A HREF="0547.html">0547</A></TD>
<TD VALIGN=TOP WIDTH="90%"> [C] This declaration of tag '%s' conflicts with a previous declaration. </TD>
</TR>
</TABLE>
<P><HR><P>
<B>Related rules:</B>
<P>
<TABLE WIDTH="90%" BORDER=1 CELLSPACING=0 >
<TR>
<TD VALIGN=TOP WIDTH="15%" ALIGN=CENTER> <A HREF="rule_1.1.html">Rule&nbsp;&nbsp;1.1</A></TD>
<TD VALIGN=TOP WIDTH="85%"> All code shall conform to ISO/IEC 9899:1990 C programming
language, ISO 9899, amended and corrected by ISO/IEC 9899/COR1:1995,
ISO/IEC 9899/AMD1:1995, and ISO/IEC 9899/COR2: 1996192</TD>
</TR>

</TABLE>
<P><HR>
<TABLE WIDTH="100%">
<TR>
<TD WIDTH="355px">
<IMG SRC="prqa_left.png"/>
</TD>
<TD COLSPAN=2 BACKGROUND="prqa_middle.png"/>
</TR>
</TABLE>
<P>
<BR><I><A HREF="misra.html">(c)  The Motor Industry Research Association, 2004</A></I>
<TABLE WIDTH="100%">
  <TR VALIGN="MIDDLE">
    <TD WIDTH="30%">
      <I><B>QA C Source Code Analyser 8.1.2</B></I>
      <BR><I><B>MISRA-C:2004 Compliance Module 3.2</B></I>
      <BR><I>&copy; 2013 Programming Research</I>
      <BR><I>
        www.programmingresearch.com
      </I>
    </TD>
    <TD ALIGN="CENTER" WIDTH="60%">
      <A HREF="PersonIndex.html">Personality Groups</A> | 
      <A HREF="Glossary.html">Glossary</A> | 
      <A HREF="MessageIndex.html">Message Index</A>
      | <A HREF="MISRA-C_2004Index.html">MISRA-C:2004 Rule Index</A>
    </TD>
    <TD ALIGN="RIGHT" WIDTH="10%">
      <A HREF="messages.htm">Contents</A>
    </TD>
  </TR>
</TABLE>
</BODY></HTML>
