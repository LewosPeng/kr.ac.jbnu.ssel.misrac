<!-- rule_10.6.html
copyright: &copy; 2013 Programming Research
   module: M2CM-3.2-QAC-8.1.2
  purpose: MISRA-C:2004 Rules explanation file
  history: auto-created on 30-Jul-13
-->
<!--
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
-->
<HTML><HEAD><TITLE>QA C Help - Rule 10.6</TITLE>
         <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
         <meta http-equiv="Content-Style-Type" content="text/css">
         <link href="css/message.css" rel="stylesheet" type="text/css">
</HEAD><BODY>
<table class="heading">
<tr class="heading">
<td class="heading" rowspan=4 width="85px"><img src="QAC.png"></td>
<td class="heading" align="right" width="11px">
<a href="rule_10.5.html"><img src="left.png" alt="[previous]"></a>
</td>
<td class="heading_number"><span style="white-space:nowrap">MISRA-C:2004&nbsp;&nbsp;Rule&nbsp;&nbsp;10.6:&nbsp;&nbsp;(Required)</span></td>
<td class="heading" align="left" width="11px">
<a href="rule_11.1.html"><img src="right.png" alt="[next]"></a>
</td>
<td class="heading"/>
<td class="heading_message">A "U" suffix shall be applied to all constants of unsigned type.</td>
<tr class="heading">
<td class="heading" height="1px" colspan=7 background="prqa_sep.png"/><td class="heading" width="76px"><img src="prqa_right.png"/></td></tr>
<tr class="heading">
<td colspan=4  class="heading_category"></td>
<td width="70%" class="heading_verbose"/>
<td class="heading_message"/>
</tr>
</table>
The type of an integer constant is a potential source of confusion, because it is dependent on a complex combination of factors including:
<P>
1.  The magnitude of the constant
<P>
2.  The implemented sizes of the integer types
<P>
3.  The presence of any suffixes
<P>
4.  The number base in which the value is expressed (i.e. decimal, octal or hexadecimal).
<P>
For example, the integer constant "40000" is of type int in a 32-bit environment but of type long in a 16-bit environment.  The value 0x8000 is of type unsigned int in a 16-bit environment, but of type (signed) int in a 32-bit environment.
<P>
Note the following:
<P>
* Any value with a "U" suffix is of unsigned type
<P>
* An unsuffixed decimal value less than 2<sup>31</sup> is of signed type
<P>
But:
<P>
* An unsuffixed hexadecimal value greater than or equal to 2<sup>15</sup> may be of signed or unsigned type
<P>
* An unsuffixed decimal value greater than or equal to 2<sup>31</sup> may be of signed or unsigned type
<P>
Signedness of constants should be explicit.  Consistent signedness is an important principle in constructing well formed expressions.  If a constant is of an unsigned type, it is helpful to avoid ambiguity by applying a "U" suffix.  When applied to larger values, the suffix may be redundant (in the sense that it does not influence the type of the constant); however its presence is a valuable contribution towards clarity.<P>
<P><FONT SIZE=+1><B>Example Code:</B></FONT>
<PRE>
<code>
<pre class="example"><code class="comment">&#x2F;&#x2A; PRQA S 0339,2982,3112,3205 &#x2B;&#x2B; &#x2A;&#x2F;</code>

<code class="preprocessor">#include</code><code class="string"> "misra.h"</code>
<code class="preprocessor">#include</code><code class="string"> "m2cmex.h"</code>


<code class="comment">&#x2F;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;
ISO 6.1.3.2 RULES&#x3A;
&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;
The type of an integer constant is the first of the corresponding list
in which its value can be represented.

UNSUFFIXED DECIMAL&#x3A;             int, long, unsigned long
UNSUFFIXED OCTAL OR HEX&#x3A;        int, unsigned int, long, unsigned long
SUFFIXED WITH U&#x3A;                unsigned int, unsigned long
SUFFIXED WITH L&#x3A;                long, unsigned long
SUFFIXED U and L&#x3A;               unsigned long

The table below shows the type of an integer constant of various
magnitudes in different formats. Types shown are for a 16bit int.
&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;
Decimal&#x2F;Hexadecimal Value &#x7C;UNSUFFXD&#x7C;UNSUFFXD&#x7C;SUFFIXED&#x7C;SUFFIXED&#x7C;SUFFIXED&#x7C;
                          &#x7C; DECIMAL&#x7C; HEX&#x2F;OCT&#x7C;  WITH U&#x7C;  WITH L&#x7C; WITH UL&#x7C;
&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;
32767      &#x2F; 0x7FFF       &#x7C;  SI    &#x7C;  SI    &#x7C;  UI    &#x7C;   SL   &#x7C;   UL   &#x7C;
32768      &#x2F; 0x8000       &#x7C;  SL    &#x7C;  UI    &#x7C;  UI    &#x7C;   SL   &#x7C;   UL   &#x7C;
65536      &#x2F; 0x10000      &#x7C;  SL    &#x7C;  SL    &#x7C;  UL    &#x7C;   SL   &#x7C;   UL   &#x7C;
2147483647 &#x2F; 0x7FFFFFFF   &#x7C;  SL    &#x7C;  SL    &#x7C;  UL    &#x7C;   SL   &#x7C;   UL   &#x7C;
2147483648 &#x2F; 0x80000000   &#x7C;  UL    &#x7C;  UL    &#x7C;  UL    &#x7C;   UL   &#x7C;   UL   &#x7C;
&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;&#x2D;

The following examples assume that int is configured as 16 bits.
&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2A;&#x2F;</code>

<code class="keyword">extern</code> S16 test_1006<code class="operator">&#x28;</code> <code class="type">void</code> <code class="operator">&#x29;</code>
<code class="operator">&#x7B;</code>
<code class="comment">&#x2F;&#x2A; Decimal &#x2A;&#x2F;</code>

   <code class="number">2147483648</code>;<code class="comment">          &#x2F;&#x2A; MISRA Violation &#x2D; unsigned long &#x2A;&#x2F;</code>
   <code class="number">4294967295</code>;<code class="comment">          &#x2F;&#x2A; MISRA Violation &#x2D; unsigned long &#x2A;&#x2F;</code>
   <code class="number">2147483648L</code>;<code class="comment">         &#x2F;&#x2A; MISRA Violation &#x2D; unsigned long &#x2A;&#x2F;</code>
   <code class="number">4294967295L</code>;<code class="comment">         &#x2F;&#x2A; MISRA Violation &#x2D; unsigned long &#x2A;&#x2F;</code>

<code class="comment">&#x2F;&#x2A; Hexadecimal &#x2A;&#x2F;</code>
   <code class="number">0x8000</code>;<code class="comment">              &#x2F;&#x2A; MISRA Violation &#x2D; unsigned int  &#x2A;&#x2F;</code>
   <code class="number">0x</code>FFFF;<code class="comment">              &#x2F;&#x2A; MISRA Violation &#x2D; unsigned int  &#x2A;&#x2F;</code>
   <code class="number">0x80000000</code>;<code class="comment">          &#x2F;&#x2A; MISRA Violation &#x2D; unsigned long &#x2A;&#x2F;</code>
   <code class="number">0x</code>FFFFFFFF;<code class="comment">          &#x2F;&#x2A; MISRA Violation &#x2D; unsigned long &#x2A;&#x2F;</code>
   <code class="number">0x</code>FFFFFFFFL;<code class="comment">         &#x2F;&#x2A; MISRA Violation &#x2D; unsigned long &#x2A;&#x2F;</code>
   <code class="number">0x80000000L</code>;<code class="comment">         &#x2F;&#x2A; MISRA Violation &#x2D; unsigned long &#x2A;&#x2F;</code>

<code class="comment">&#x2F;&#x2A; Octal &#x2A;&#x2F;</code>
   <code class="number">0100000</code>;<code class="comment">             &#x2F;&#x2A; MISRA Violation &#x2D; unsigned int  &#x2A;&#x2F;</code>
   <code class="number">0177777</code>;<code class="comment">             &#x2F;&#x2A; MISRA Violation &#x2D; unsigned int  &#x2A;&#x2F;</code>
   <code class="number">020000000000</code>;<code class="comment">        &#x2F;&#x2A; MISRA Violation &#x2D; unsigned long &#x2A;&#x2F;</code>
   <code class="number">037777777777</code>;<code class="comment">        &#x2F;&#x2A; MISRA Violation &#x2D; unsigned long &#x2A;&#x2F;</code>
   <code class="number">020000000000</code>;<code class="comment">        &#x2F;&#x2A; MISRA Violation &#x2D; unsigned long &#x2A;&#x2F;</code>
   <code class="number">037777777777L</code>;<code class="comment">       &#x2F;&#x2A; MISRA Violation &#x2D; unsigned long &#x2A;&#x2F;</code>

   <code class="keyword">return</code> <code class="number">0</code>;
<code class="operator">&#x7D;</code>

</pre>
</code>
</PRE>
<P><HR><P>
<B>QAC messages that encompass this guideline:</B>
<P>
<TABLE WIDTH="90%" BORDER=1 CELLSPACING=0 >
<TR>
<TD VALIGN=TOP WIDTH="10%" ALIGN=CENTER> <A HREF="1281.html">1281</A></TD>
<TD VALIGN=TOP WIDTH="90%"> Integer literal constant is of an unsigned type but does not include a "U" suffix. </TD>
</TR>
</TABLE>
<P><HR>
<TABLE WIDTH="100%">
<TR>
<TD WIDTH="355px">
<IMG SRC="prqa_left.png"/>
</TD>
<TD COLSPAN=2 BACKGROUND="prqa_middle.png"/>
</TR>
</TABLE>
<P>
<BR><I><A HREF="misra.html">(c)  The Motor Industry Research Association, 2004</A></I>
<TABLE WIDTH="100%">
  <TR VALIGN="MIDDLE">
    <TD WIDTH="30%">
      <I><B>QA C Source Code Analyser 8.1.2</B></I>
      <BR><I><B>MISRA-C:2004 Compliance Module 3.2</B></I>
      <BR><I>&copy; 2013 Programming Research</I>
      <BR><I>
        www.programmingresearch.com
      </I>
    </TD>
    <TD ALIGN="CENTER" WIDTH="60%">
      <A HREF="PersonIndex.html">Personality Groups</A> | 
      <A HREF="Glossary.html">Glossary</A> | 
      <A HREF="MessageIndex.html">Message Index</A>
      | <A HREF="MISRA-C_2004Index.html">MISRA-C:2004 Rule Index</A>
    </TD>
    <TD ALIGN="RIGHT" WIDTH="10%">
      <A HREF="messages.htm">Contents</A>
    </TD>
  </TR>
</TABLE>
</BODY></HTML>
